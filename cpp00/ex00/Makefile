# ──────────────────────────────────────────────────────────────────────────────
# DIRECTORIES
# ──────────────────────────────────────────────────────────────────────────────
OBJDIR				:= objs

# ──────────────────────────────────────────────────────────────────────────────
# BUILD SETTINGS
# ──────────────────────────────────────────────────────────────────────────────
NAME				:= megaphone
CXX					:= c++
RM					:= @rm -rf
CXXFLAGS			:= -Wall -Wextra -Werror -std=c++98 -I includes

# ──────────────────────────────────────────────────────────────────────────────
# SOURCES & OBJECTS
# ──────────────────────────────────────────────────────────────────────────────
SRCS				:= Megaphone.cpp
OBJS				:= $(SRCS:%.cpp=$(OBJDIR)/%.o)

# ──────────────────────────────────────────────────────────────────────────────
# DEFAULT TARGET
# ──────────────────────────────────────────────────────────────────────────────
all					: $(NAME)

# ──────────────────────────────────────────────────────────────────────────────
# LINK
# ──────────────────────────────────────────────────────────────────────────────
$(NAME):			$(OBJS)
					$(CXX) $(CXXFLAGS) $^ -o $@

# ──────────────────────────────────────────────────────────────────────────────
# COMPILE
# ──────────────────────────────────────────────────────────────────────────────
$(OBJDIR)/%.o:		%.cpp
					@mkdir -p $(OBJDIR)
					$(CXX) $(CXXFLAGS) -c $< -o $@

# ──────────────────────────────────────────────────────────────────────────────
# CLEANUP
# ──────────────────────────────────────────────────────────────────────────────
clean:
					$(RM) $(OBJDIR)

fclean:				clean
					$(RM) $(NAME)

re:					fclean all

.PHONY:				all clean fclean re
